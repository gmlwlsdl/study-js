# 1. í´ë¡œì €ë€?

> â€œA closure is the combination of a function and the lexical environment within which that function was declared.â€
>
> **í•¨ìˆ˜ + ê·¸ í•¨ìˆ˜ê°€ ì„ ì–¸ëœ ì‹œì ì˜ ë ‰ì‹œì»¬ í™˜ê²½(Lexical Environment)**
>
> â†’ ë‘˜ì˜ ì¡°í•©ì´ â€œí´ë¡œì €â€ë‹¤.

ì½”ë“œë¥¼ ë³´ìŸˆ

```jsx
const x = 1

function outerFunc() {
  const x = 10

  function innerFunc() {
    console.log(x) // 10
  }

  innerFunc()
}

outerFunc()
```

innerFuncëŠ” outerFunc ë‚´ë¶€ì—ì„œ ì •ì˜ë˜ì—ˆìœ¼ë¯€ë¡œ, ìƒìœ„ ìŠ¤ì½”í”„ëŠ” outerFuncì˜ ë ‰ì‹œì»¬ í™˜ê²½ì´ê³ 

ë”°ë¼ì„œ innerFuncëŠ” x = 10ì— ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤!

> ğŸ¤“ **ìš”ê²ƒì´ í´ë¡œì €ì˜ ê¸°ì´ˆ ì§€ì‹!**
>
> ë‚´ë¶€ í•¨ìˆ˜ê°€ ì™¸ë¶€ í•¨ìˆ˜ì˜ ë³€ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê²ƒ

## 1-2. ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ëŠ”~

í•¨ìˆ˜ê°€ **ì–´ë””ì„œ ì •ì˜ë˜ì—ˆëŠ”ì§€**ì— ë”°ë¼ ìŠ¤ì½”í”„ê°€ ê²°ì •ëœë‹¤.

ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ê´€ì ì—ì„œëŠ”,

í•¨ìˆ˜ê°€ ì •ì˜ë  ë•Œ ê·¸ í•¨ìˆ˜ëŠ” ìì‹ ì´ ì •ì˜ëœ ìœ„ì¹˜ì˜ `L.E`ë¥¼ ê¸°ì–µí•˜ê³ 

ìš”ê²ƒì´ `[[Environment]]` ê°™ì€ ë‚´ë¶€ ìŠ¬ë¡¯ìœ¼ë¡œ ì €ì¥ëœë‹¤.

## 1-3. ìŠ¤ì½”í”„ ì²´ì¸ê³¼ í´ë¡œì €ëŠ”~

ë ‰ì‹œì»¬ í™˜ê²½ì€ ì„œë¡œ ë‹¨ë°©í–¥ì˜ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì²˜ëŸ¼ ì—°ê²°ë¼ ìˆëŠ”ë°

ìš”ê²ƒ ë•Œë¬¸ì— ë‚´ë¶€ í•¨ìˆ˜ëŠ” ì™¸ë¶€ í•¨ìˆ˜ì˜ ë ‰ì‹œì»¬ í™˜ê²½ì„ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” ê²ƒì´ê³ 

ì´ ì°¸ì¡° êµ¬ì¡°ê°€ í´ë¡œì €ì˜ ì •ì²´ì¸ ê²ƒ!

## 1-4. **`[[Environment]]` ìŠ¬ë¡¯ì´ë€?**

í•¨ìˆ˜ ê°ì²´ê°€ ìƒì„±ë  ë•Œ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ë¹„ê³µê°œ ë‚´ë¶€ ìŠ¬ë¡¯ì´ë‹¤.

ìì‹ ì´ ì •ì˜ëœ ìœ„ì¹˜ì˜ ë ‰ì‹œì»¬ í™˜ê²½ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì €ì¥í•˜ê³ 

ë‚˜ì¤‘ì— í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ, ì´ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìƒìœ„ ìŠ¤ì½”í”„ë¥¼ êµ¬ì„±í•œë‹¤.

ì¦‰, â€œí•¨ìˆ˜ëŠ” ì •ì˜ë  ë•Œ ìì‹ ì´ **ì–´ë””ì„œ ë§Œë“¤ì–´ì¡ŒëŠ”ì§€ ê¸°ì–µí•´ì•¼ í´ë¡œì €ê°€ ê°€ëŠ¥í•˜ë‹¤â€ëŠ” ë§ì€** `[[Environment]]`ê°€ ìˆê¸° ë•Œë¬¸ì— ê°€ëŠ¥í•œ ì´ì•¼ê¸°ì¸ ê²ƒ!

## 1-5. í•¨ìˆ˜ ì‹¤í–‰ ì‹œ ìŠ¤ì½”í”„ê°€ ì—°ê²°ë˜ëŠ” ë°©ì‹

1. í•¨ìˆ˜ í˜¸ì¶œ
2. í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìƒì„±
3. ìƒˆë¡œìš´ `L.E` ìƒì„±
4. ìœ„ `L.E`ì˜ `ì™¸ë¶€ ì°¸ì¡°(Outer L.E)`ëŠ” í•¨ìˆ˜ì˜ `[[Environment]]` ìŠ¬ë¡¯ ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ ì—°ê²°

> ğŸ¤“ **í•¨ìˆ˜ ì •ì˜ vs í•¨ìˆ˜ ì‹¤í–‰**
>
> - í•¨ìˆ˜ ì •ì˜ â†’ `[[Environment]]` ì €ì¥
> - í•¨ìˆ˜ ì‹¤í–‰ â†’ `[[Environment]]` ë¥¼ ì™¸ë¶€ ì°¸ì¡°ë¡œ ë³µì›

> ğŸ¤“ **í´ë¡œì €ê°€ ë°œìƒí•˜ëŠ” ì¡°ê±´**
>
> ì•„ë˜ ì¡°ê±´ì„ ëª¨ë‘ ë§Œì¡±í•´ì•¼ í´ë¡œì €ë‹¤.
>
> 1. í•¨ìˆ˜ê°€ ìì‹ ì˜ ìƒìœ„ ìŠ¤ì½”í”„(ë ‰ì‹œì»¬ í™˜ê²½)ì˜ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•  ê²ƒ
> 2. ê·¸ í•¨ìˆ˜ê°€ ì™¸ë¶€ í•¨ìˆ˜ë³´ë‹¤ ì˜¤ë˜ ì‚´ì•„ìˆì„ ê²ƒ

# 2. í´ë¡œì €ì™€ ë ‰ì‹œì»¬ í™˜ê²½ ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ í™•ì¸í•´ë³´ê¸°!

`ì˜ˆì‹œ 1` í´ë¡œì €ê°€ ì•„ë‹Œ ê²½ìš°

```jsx
<!DOCTYPE html>
<html>
<body>
<script>
const x = 1;

function foo() {
  const y = 2;

  // ì¼ë°˜ì ìœ¼ë¡œ í´ë¡œì €ë¼ê³  ë¶€ë¥´ì§€ ì•ŠìŒ
  function bar() {
    const z = 3;
    debugger;
    console.log(z);    // zë§Œ ì°¸ì¡° (ìƒìœ„ ìŠ¤ì½”í”„ x, yëŠ” ì•ˆ ì”€)
  }

  return bar;
}

const bar = foo();
bar();
</script>
</body>
</html>
```

![image.png](./image.png)

`bar()` í•¨ìˆ˜ ì•ˆì—ì„œ ìƒìœ„ ìŠ¤ì½”í”„ì˜ ì‹ë³„ì(x, y)ë¥¼ ì°¸ì¡°í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í´ë¡œì €ê°€ ì•„ë‹ˆë‹¤!

`ì˜ˆì‹œ 2` í´ë¡œì €ê°€ ì•„ë‹Œ ê²½ìš°

```jsx
<!DOCTYPE html>
<html>
<body>
<script>
function foo() {
  const x = 1;

  function bar() {
    debugger;
    console.log(x);  // xëŠ” ìƒìœ„ ìŠ¤ì½”í”„ ì‹ë³„ì (ì°¸ì¡°í•¨)
  }

  bar();  // ë°”ë¡œ í˜¸ì¶œí•˜ê³  ë
}

foo();
</script>
</body>
</html>
```

[á„’á…ªá„†á…§á†« á„€á…µá„…á…©á†¨ 2025-06-21 á„‹á…©á„Œá…¥á†« 2.03.22.mov](./%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%E1%84%80%E1%85%B5%E1%84%85%E1%85%A9%E1%86%A8_2025-06-21_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_2.03.22.mov)

`bar`ëŠ” `foo`ì˜ `ë³€ìˆ˜ x`ë¥¼ ì°¸ì¡°í•´ì„œ ì ì‹œ ë™ì•ˆì€ í´ë¡œì €ì§€ë§Œ, ì‹¤í–‰ë˜ê³  ë°”ë¡œ ì‚¬ë¼ì§€ë¯€ë¡œ í´ë¡œì €ë¼ê³  ë¶€ë¥´ì§€ëŠ” ì•ŠëŠ”ë‹¤ê³  í•¨!

`ì˜ˆì‹œ 3` ì§„ì§œ í´ë¡œì €!

```jsx
<!DOCTYPE html>
<html>
<body>
<script>
function outer() {
  const secret = 'ë¹„ë°€ ã…‹ã…ã…‹';

  return function inner() {
    debugger;
    console.log(secret);  // outer ìŠ¤ì½”í”„ ì°¸ì¡°
  };
}

const innerFunc = outer();
innerFunc(); // ë¹„ë°€ ã…‹ã…ã…‹
</script>
</body>
</html>
```

[á„’á…ªá„†á…§á†« á„€á…µá„…á…©á†¨ 2025-06-21 á„‹á…©á„Œá…¥á†« 2.14.17.mov](./%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%E1%84%80%E1%85%B5%E1%84%85%E1%85%A9%E1%86%A8_2025-06-21_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_2.14.17.mov)

`inner`ëŠ” `outer`ì˜ ì§€ì—­ë³€ìˆ˜ `secret`ì„ ì°¸ì¡°í•˜ê³ 

`outer()`ê°€ ì¢…ë£Œë˜ì–´ë„ `secret`ì„ ê³„ì† ê¸°ì–µí•˜ê³  ì°¸ì¡°í•˜ê³  ìˆë‹¤!

ì§€ì†ì ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•œ ìƒíƒœë¥¼ ìœ ì§€í•˜ë¯€ë¡œ í´ë¡œì €ë¼ê³  í•  ìˆ˜ ìˆë‹¤ëŠ¥ ~, ~

# 3. í´ë¡œì €ì˜ í™œìš©

í´ë¡œì €ëŠ” ìƒíƒœ(state)ë¥¼ ì•ˆì „í•˜ê²Œ ì€ë‹‰í•˜ê³ , íŠ¹ì • í•¨ìˆ˜ì—ì„œë§Œ ë³€ê²½ ê°€ëŠ¥í•˜ë„ë¡ ë§Œë“¤ê¸° ìœ„í•´ í•„ìš”í•˜ë‹¤.

ì¼ë°˜ì ìœ¼ë¡œ ì™¸ë¶€ì—ì„œ ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ëŠ” privateí•œ ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•œ ìš©ë„ë¡œ í´ë¡œì €ë¥¼ ì‚¬ìš©í•œë‹¤!

**ğŸ˜±Â ì „ì—­ ë³€ìˆ˜ ê¸°ë°˜ ìƒíƒœ ê´€ë¦¬ì˜ ë¬¸ì œì  ğŸ˜±**

```jsx
// ì¹´ìš´íŠ¸ ìƒíƒœ ë³€ìˆ˜
let num = 0

// ìƒíƒœ ë³€ê²½ í•¨ìˆ˜
const increase = function () {
  return ++num
}

console.log(increase()) // 1
console.log(increase()) // 2
console.log(increase()) // 3
```

ğŸ‘‰ğŸ»Â `num`ì€ ì „ì—­ ë³€ìˆ˜ì´ë¯€ë¡œ **ëˆ„êµ¬ë‚˜ ì ‘ê·¼í•´ì„œ ìˆ˜ì •ì´ ê°€ëŠ¥**í•œ ë¬¸ì œì ì´ ìˆë‹¤.

**ğŸ¤”Â ì§€ì—­ ë³€ìˆ˜ë¡œ ì€ë‹‰í•´ë³´ê¸° ğŸ¤”**

```jsx
const increase = function () {
  let num = 0 // ì§€ì—­ ë³€ìˆ˜ë¡œ ì€ë‹‰
  return ++num
}

console.log(increase()) // 1
console.log(increase()) // 1
console.log(increase()) // 1
```

ğŸ‘‰ğŸ»Â numì´ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ì´ˆê¸°í™”ë˜ê³ , ì´ì „ ìƒíƒœë¥¼ ê¸°ì–µí•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œì ì´ ìˆë‹¤.

âœ¨Â í´ë¡œì €ë¡œ ìƒíƒœ ì€ë‹‰ + ìœ ì§€ âœ¨

```jsx
const increase = (function () {
  let num = 0 // ì€ë‹‰ëœ private ë³€ìˆ˜

  // í´ë¡œì €
  return function () {
    return ++num
  }
})()

console.log(increase()) // 1
console.log(increase()) // 2
console.log(increase()) // 3
```

ğŸ‘‰ğŸ»Â ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜(IIFE)ê°€ ì‹¤í–‰ë˜ê³ , `increase` í•¨ìˆ˜ëŠ” `num ë³€ìˆ˜`ë¥¼ ì°¸ì¡°í•´ì„œ ê°’ì„ ê¸°ì–µ, ìƒíƒœ ë³€ê²½ì„ í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

ë”°ë¼ì„œ í´ë¡œì €ë¥¼ í™œìš©í•˜ë©´

- ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ë¶ˆê°€ëŠ¥í•œ ì€ë‹‰ëœ ìƒíƒœ ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ê³ 
- ê°ì²´ë‚˜ ìƒì„±ì íŒ¨í„´ì—ì„œë„ ìƒíƒœë¥¼ ë³´ì¡´í•  ìˆ˜ ìˆê³ 
- ê³ ì°¨ í•¨ìˆ˜ íŒ¨í„´ì„ í†µí•´ ìœ ì—°í•œ ë¡œì§ êµ¬ì„±ì´ ê°€ëŠ¥í•˜ë‹¤.

- í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œëŠ” ë¶€ìˆ˜ íš¨ê³¼ ìµœì†Œí™”, ìƒíƒœ ë¶ˆë³€ì„± ìœ ì§€ë¥¼ ìœ„í•´ í´ë¡œì €ë¥¼ ì ê·¹ í™œìš©í•œë‹¤ê³  í•œë‹¤!

  > ğŸ¤“ **í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œ ì™œ í´ë¡œì €ê°€ ë¶€ìˆ˜íš¨ê³¼(side effect)ë¥¼ ì¤„ì´ê³  ìƒíƒœ ë¶ˆë³€ì„±(immutability)ì„ ë„ì™€ì£¼ì§€?**
  >
  > ì¼ë‹¨ fp(í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°)ì€ ì•„ë˜ ê²ƒë“¤ì„ ì›í•œë‹¤!
  >
  > > 1.  ì…ë ¥ì´ ê°™ìœ¼ë©´ í•­ìƒ ê°™ì€ ì¶œë ¥ì„ ë‚´ê¸°
  > > 2.  ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  ìˆœìˆ˜í•œ í•¨ìˆ˜ ë§Œë“¤ê¸°
  > >
  > > ğŸ‘‰ğŸ»Â ì•ˆì •ì ì´ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•œ í”„ë¡œê·¸ë¨ ë§Œë“¤ê¸°ë¥¼ ëª©í‘œë¡œ í•œë‹¤.
  > >
  > > ë”°ë¼ì„œ~~ ìœ„ì—ì„œ ë§í•œ í´ë¡œì €ì˜ ì¥ì  ë•Œë¬¸ì—
  > >
  > > í´ë¡œì €ë¥¼ ì“°ë©´ í•¨ìˆ˜ ë°–ì—ì„œ ì„ ì–¸ëœ ìƒíƒœë¥¼ ìˆ¨ê¸°ê³ , ì˜¤ì§ íŠ¹ì • í•¨ìˆ˜ë§Œ ê·¸ ìƒíƒœë¥¼ ì½ê³  ë°”ê¾¸ê²Œ ì œí•œí•˜ë¯€ë¡œ
  > >
  > > fpì— í´ë¡œì €ë¥¼ ì‚¬ìš©í•˜ë©´ ì™¸ë¶€ ìƒíƒœ ì°¨ë‹¨, ìˆœìˆ˜ì„± ìœ ì§€, ìƒíƒœ ìœ ì§€, ì‚¬ì´ë“œ ì´í™íŠ¸ ì—†ìŒ ë“±ì˜ ì¥ì ì´ ìˆë‹¤ ğŸ‘ğŸ»

  ```jsx
  // aux ì¸ìë¥¼ í†µí•´ í•¨ìˆ˜ë¥¼ ë°›ê³ 
  function makeCounter(aux) {
    let counter = 0

    // í•¨ìˆ˜ë¥¼ ë¦¬í„´!
    return function () {
      counter = aux(counter)
      return counter
    }
  }

  // ë³´ì¡° í•¨ìˆ˜
  function increase(n) {
    return ++n
  }

  function decrease(n) {
    return --n
  }

  const increaser = makeCounter(increase)
  console.log(increaser()) // 1
  console.log(increaser()) // 2

  const decreaser = makeCounter(decrease)
  console.log(decreaser()) // -1
  console.log(decreaser()) // -2
  ```

# 4. ìº¡ìŠí™”ì™€ ì •ë³´ ì€ë‹‰

ìº¡ìŠí™”ë€, **ê°ì²´ì˜ ìƒíƒœ**ì™€ **í•´ë‹¹ ìƒíƒœë¥¼ ì°¸ì¡°/ì¡°ì‘í•  ìˆ˜ ìˆëŠ” í–‰ìœ„**ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ëŠ” ê²ƒì´ë‹¤. ex) ê°ì²´ì˜ í”„ë¡œí¼í‹°ì™€ ë©”ì„œë“œë¥¼ í•˜ë‚˜ì˜ ë‹¨ìœ„ë¡œ ë¬¶ê¸°

ì •ë³´ ì€ë‹‰ì´ë€, ê°ì²´ì˜ ë‚´ë¶€ êµ¬í˜„ ì¼ë¶€ë¥¼ ì™¸ë¶€ì— ê°ì¶”ëŠ” ê²ƒì´ë‹¤.

ì™¸ë¶€ë¡œë¶€í„° ë¶ˆí•„ìš”í•˜ê±°ë‚˜ ìœ„í—˜í•œ ì ‘ê·¼ì„ ì°¨ë‹¨í•˜ë¯€ë¡œ, ê°ì²´ì˜ ìƒíƒœ ë³´í˜¸ ë° ê²°í•©ë„ ê°ì†Œ íš¨ê³¼ ë“±ì´ ìˆë‹¤.

ì€ë‹‰ ë°©ë²•ìœ¼ë¡œëŠ” ì•„ë˜ì˜ ê²ƒë“¤ì´ ìˆë‹¤.

1. ì§€ì—­ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•œ ì •ë³´ ì€ë‹‰

   ```jsx
   function Person(name, age) {
     this.name = name // public
     let _age = age // private

     this.sayHi = function () {
       console.log(`Hi! My name is ${this.name}. I am ${_age}.`)
     }
   }

   const me = new Person('Hazel', 24)
   me.sayHi() // Hi! My name is Hazel. I am 24.
   console.log(me.name) // Lee
   console.log(me._age) // undefined (ì™¸ë¶€ ì ‘ê·¼ ë¶ˆê°€)
   ```

   ğŸ‘‰ğŸ»Â `sayHi` ë©”ì„œë“œê°€ ë§¤ ì¸ìŠ¤í„´ìŠ¤ë§ˆë‹¤ ì¤‘ë³µ ìƒì„±ë˜ì–´ì„œ ë©”ëª¨ë¦¬ ë‚­ë¹„ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

2. í”„ë¡œí† íƒ€ì… ë©”ì„œë“œë¡œ ë³€ê²½í•œ ê²½ìš°

   ```jsx
   function Person(name, age) {
     this.name = name
     let _age = age // private
   }

   Person.prototype.sayHi = function () {
     console.log(`Hi! My name is ${this.name}. I am ${_age}.`)
   }
   ```

   ğŸ‘‰ğŸ»Â `sayHi`ëŠ” `Personì˜ L.E`ë¥¼ ê¸°ì–µí•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ í´ë¡œì €ë„ ì•„ë‹ˆê³ , `_age`ì— ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.

3. ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ë¡œ í´ë¡œì € í™˜ê²½ ìœ ì§€í•˜ê¸°

   ```jsx
   const Person = (function () {
     let _age = 0

     function Person(name, age) {
       this.name = name
       _age = age
     }

     Person.prototype.sayHi = function () {
       console.log(`Hi! My name is ${this.name}. I am ${_age}.`)
     }

     return Person
   })()

   const me = new Person('Hazel', 24)
   me.sayHi() // 24

   const you = new Person('Kim', 10)
   you.sayHi() // 10

   me.sayHi() // 10 <- ê°’ì´ ë°”ë€Œì—ˆë‹¤!
   ```

   ğŸ‘‰ğŸ»Â `sayHi`ëŠ” í´ë¡œì €ë¡œ `_age`ì— ì ‘ê·¼ì´ ê°€ëŠ¥í•œë°,,. ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ê°€ í•˜ë‚˜ì˜ `_age` ê°’ì„ ê³µìœ í•˜ê²Œ ë˜ëŠ” ë¬¸ì œê°€ ìˆë‹¤.

ê·¼ë° í´ë¡œì €ë¡œë„ ì™„ë²½í•œ ì •ë³´ ì€ë‹‰ì€ ì–´ë ¤ì›Œì„œ ì•„ë˜ì™€ ê°™ì€ ëŒ€ì•ˆì´ ì¡´ì¬í•œë‹¤..

ğŸ”’Â í´ë˜ìŠ¤ì˜ private í•„ë“œ (#í•„ë“œ) ğŸ”’

```jsx
class Person {
  #age

  constructor(name, age) {
    this.name = name
    this.#age = age
  }

  sayHi() {
    console.log(`Hi! My name is ${this.name}. I am ${this.#age}.`)
  }

  getAge() {
    return this.#age
  }
}

const hazel = new Person('Hazel', 24)
console.log(hazel.getAge()) // 24
```

# 5. í´ë¡œì €ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ì‹¤ìˆ˜

ë§Œì•½ varë¡œ ì„ ì–¸í•œ ë³€ìˆ˜ë¡œ í´ë¡œì €ë¥¼ ë§Œë“¤ë©´..?

```jsx
var funcs = [];

for (var i = 0; i < 3; i++) {
  funcs[i] = function () {
    return i;
  };
}

for (var j = 0; j < funcs.length; j++) {
  console.log(funcs[j]()); // ì˜ˆìƒ: 0, 1, 2 â†’ ì‹¤ì œ: 3, 3, 3

```

varëŠ” **í•¨ìˆ˜ ë ˆë²¨ ìŠ¤ì½”í”„**ë¥¼ ê°€ì§€ë¯€ë¡œ for ë£¨í”„ ì•ˆì—ì„œ ë§Œë“¤ì–´ì§„ í•¨ìˆ˜ë“¤ì€ **ë™ì¼í•œ ië¥¼ ê³µìœ **í•œë‹¤.

ë£¨í”„ê°€ ëë‚œ í›„ `i === 3`ì´ ë˜ê³ , í´ë¡œì €ëŠ” ì´ **ê³µìœ ëœ ië¥¼ ì°¸ì¡°**í•˜ê¸° ë•Œë¬¸ì— **3ì´ ì„¸ ë²ˆ ì¶œë ¥**ëœë‹¤.

`í•´ê²° ë°©ë²• 1` ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ë¡œ í´ë¡œì € ìŠ¤ì½”í”„ë¥¼ ë¶„ë¦¬í•œë‹¤.

```jsx
var funcs = []

for (var i = 0; i < 3; i++) {
  funcs[i] = (function (id) {
    return function () {
      return id
    }
  })(i) // í˜„ì¬ i ê°’ì„ ì¸ìë¡œ ì „ë‹¬í•´ í´ë¡œì €ì— ê³ ì •
}

funcs.forEach((f) => console.log(f())) // 0 1 2
```

(function (id) {...})(i)ëŠ” ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜(IIFE)ë¡œ í˜„ì¬ i ê°’ì„ idì— ë³µì‚¬í•´ í´ë¡œì € ì•ˆì— ë¬¶ì–´ë‘”ë‹¤.

ê° í•¨ìˆ˜ëŠ” ìì‹ ë§Œì˜ ê³ ìœ í•œ ìƒìœ„ ìŠ¤ì½”í”„(id)ë¥¼ ì°¸ì¡°í•˜ë¯€ë¡œ ì›í•˜ëŠ” ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤.

`í•´ê²° ë°©ë²• 2` ES6 letì„ ì‚¬ìš©í•œë‹¤.

```jsx
const funcs = []

for (let i = 0; i < 3; i++) {
  funcs[i] = function () {
    return i
  }
}

funcs.forEach((f) => console.log(f())) // 0 1 2
```

letì€ **ë¸”ë¡ ë ˆë²¨ ìŠ¤ì½”í”„**ë¥¼ ê°€ì§€ë¯€ë¡œ **for ë£¨í”„ ë°˜ë³µë§ˆë‹¤ ìƒˆë¡œìš´ i ìŠ¤ì½”í”„**ê°€ ìƒì„±ë¨

ê° í•¨ìˆ˜ëŠ” **ìì‹ ë§Œì˜ i ê°’ì„ í´ë¡œì €ë¡œ ê¸°ì–µ**í•˜ê²Œ ëœë‹¤.
