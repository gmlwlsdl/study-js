# 26ì¥ - ES6 í•¨ìˆ˜ì˜ ì¶”ê°€ ê¸°ëŠ¥

ì£¼ì°¨: 7ì£¼ì°¨, ModernJS

# 1. í•¨ìˆ˜ì˜ êµ¬ë¶„

### ES6 ì´ì „ í•¨ìˆ˜ì˜ íŠ¹ì§•

ëª¨ë“  í•¨ìˆ˜ëŠ” **callable (í˜¸ì¶œ ê°€ëŠ¥)**í•˜ë©´ì„œ **constructor (ìƒì„±ì í˜¸ì¶œ ê°€ëŠ¥)**í–ˆë‹¤.

í•˜ë‚˜ì˜ í•¨ìˆ˜ë¡œ ë‹¤ì–‘í•œ ìš©ë„ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆë‹¤.

â†’ ìœ ì—°í•˜ì§€ë§Œ, ëª…í™•í•˜ì§€ ì•Šê³  ì‹¤ìˆ˜ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆìŒ

ìƒì„±ì í˜¸ì¶œì´ ì•„ë‹Œ í•¨ìˆ˜ì—ë„ prototype ê°ì²´ê°€ ìƒê²¨ ë©”ëª¨ë¦¬ ë‚­ë¹„ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

### ê·¸ë˜ì„œ ES6ì—ì„œëŠ” í•¨ìˆ˜ì˜ ìš©ë„ì— ë”°ë¼ ë‹¤ìŒ ì„¸ ê°€ì§€ë¡œ í•¨ìˆ˜ë¥¼ ëª…í™•íˆ êµ¬ë¶„í•œë‹¤.

| **ì¢…ë¥˜**        | **constructor** | **prototype** | **super** | **arguments** |
| --------------- | --------------- | ------------- | --------- | ------------- |
| **ì¼ë°˜ í•¨ìˆ˜**   | O               | O             | X         | O             |
| **ë©”ì„œë“œ**      | X               | X             | O         | X             |
| **í™”ì‚´í‘œ í•¨ìˆ˜** | X               | X             | X         | X             |

1. ì¼ë°˜ í•¨ìˆ˜ (Normal Function)

   ì„ ì–¸ë¬¸ ë˜ëŠ” í‘œí˜„ì‹ìœ¼ë¡œ ì •ì˜í•œë‹¤.

   `constructor`ë¥¼ í˜¸ì¶œí•˜ì—¬ newë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

2. ë©”ì„œë“œ (Method)

   ê°ì²´ì˜ í”„ë¡œí¼í‹°ì— ì¶•ì•½ ë©”ì„œë“œ í˜•ì‹ìœ¼ë¡œ ì •ì˜í•œë‹¤.

   `constructor` í˜¸ì¶œì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.

   `suepr` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

   ```jsx
   const obj = {
     method() {
       console.log('ë©”ì„œë“œ')
     },
   }
   ```

3. í™”ì‚´í‘œ í•¨ìˆ˜ (Arrow Function)

   `function` í‚¤ì›Œë“œ ì—†ì´ `â‡’` ë¡œ ì •ì˜í•œë‹¤.

   thisë¥¼ ë°”ì¸ë”©í•˜ì§€ ì•ŠëŠ”ë‹¤.

   `arguments, super, new` ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

   ```jsx
   const arrow = () => {
     console.log('í™”ì‚´í‘œ í•¨ìŠˆ')
   }
   ```

# 2. ë©”ì„œë“œ

### ES6 ì´ì „ì˜ ë©”ì„œë“œ ê°œë…ì€

ê°œë…ì´ ì—†ì—ˆë‹¤!

ë‹¨ìˆœíˆ ê°ì²´ì— ë°”ì¸ë”©ëœ í•¨ìˆ˜ë¥¼ ì˜ë¯¸í–ˆëŠ”ë° ì¼ë°˜ í•¨ìˆ˜ë‘ ë™ì¼í•˜ê²Œ ì‘ë™í•´ì„œ newë¡œë„ ìƒì„±ì í˜¸ì¶œì´ ê°€ëŠ¥í–ˆë‹¤.

### ES6ì—ì„œëŠ”

ë©”ì„œë“œ ì¶•ì•½ í‘œí˜„ìœ¼ë¡œ ì •ì˜ëœ í•¨ìˆ˜ë§Œ ì§„ì§œ ë©”ì„œë“œë¡œ ì¸ì •í•œë‹¤.

```jsx
const obj = {
  // ES6 ë©”ì„œë“œ
  foo() {
    return this.x
  },

  // ì¼ë°˜ í•¨ìˆ˜ (ES6 ë©”ì„œë“œ ì•„ë‹˜)
  bar: function () {
    return this.x
  },
}
```

fooëŠ” ë©”ì„œë“œì´ê¸° ë•Œë¬¸ì— constructorë¥¼ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤.

```jsx
new obj.foo() // ypeError: not a constructor
new obj.bar()
```

![image.png](./image.png)

fooëŠ” ë©”ì„œë“œì´ê¸° ë•Œë¬¸ì— prototype í”„ë¡œí¼í‹°ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.

```jsx
console.log(obj.foo.hasOwnProperty('prototype')) // false
console.log(obj.bar.hasOwnProperty('prototype')) // true
```

![image.png](./image%201.png)

> ğŸ¥² **í‘œì¤€ ë¹ŒíŠ¸ì¸ ê°ì²´ì˜ ë©”ì„œë“œë„ `non-constructor` ì´ë‹¤.!**
>
> > ```jsx
> > console.log(String.prototype.toUpperCase.prototype) // undefined
> > console.log(Array.prototype.map.prototype) // undefined
> > console.log(Number.isFinite.prototype) // undefined
> > ```
> >
> > ![image.png](./image%202.png)

ES6 ë©”ì„œë“œëŠ” `[[HomeObject]] (ì–´ë””ì— ë°”ì¸ë”©ë˜ì–´ ìˆëŠ”ì§€ ì¶”ì  ê°€ëŠ¥)` ë¥¼ ê°€ì§„ë‹¤.

ë”°ë¼ì„œ super í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤!

```jsx
const base = {
  name: 'Hazel',
  sayHi() {
    return `Hi! ${this.name}`
  },
}

const derived = {
  __proto__: base,
  sayHi() {
    return `${super.sayHi()}. how are you doing?`
  },
}

console.log(derived)
console.log(derived.sayHi())
```

![image.png](./image%203.png)

# 3. í™”ì‚´í‘œ í•¨ìˆ˜ (Arrow Function)

í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” function í‚¤ì›Œë“œ ëŒ€ì‹  â€œâ‡’â€ ë¥¼ ì‚¬ìš©í•˜ëŠ” ê°„ê²°í•œ í•¨ìˆ˜ í‘œí˜„ì‹ì´ë‹¤.

ë¬¸ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

```jsx
// ê¸°ë³¸ í˜•íƒœ
const add = (a, b) => a + b

// ë§¤ê°œë³€ìˆ˜ê°€ í•˜ë‚˜ë©´ ê´„í˜¸ ìƒëµ ê°€ëŠ¥
const square = (x) => x * x

// ë§¤ê°œë³€ìˆ˜ê°€ ì—†ìœ¼ë©´ ê´„í˜¸ í•„ìˆ˜
const greet = () => 'Hi'

// ì¤‘ê´„í˜¸ê°€ ìˆìœ¼ë©´ return í•„ìš”
const sum = (a, b) => {
  const result = a + b
  return result
}
```

> ğŸ¥² **ê°ì²´ë¥¼ ë°˜í™˜í•  ë• ì†Œê´„í˜¸ë¡œ ê°ì‹¸ì•¼ í•œë‹¤!**
>
> > ```jsx
> > // ì˜¬ë°”ë¥¸ ê°ì²´ ë°˜í™˜
> > const create = (id, name) => ({ id, name })
> >
> > // ì¤‘ê´„í˜¸ë¥¼ í•¨ìˆ˜ ë¸”ë¡ìœ¼ë¡œ ì˜¤í•´í•¨
> > const wrong = (id, name) => {
> >   id, name
> > } // undefined
> > ```

## 3-1. í™”ì‚´í‘œ í•¨ìˆ˜ vs ì¼ë°˜ í•¨ìˆ˜

ìš”ì•½í•˜ìë©´ ë‹¤ìŒê³¼ ê°™ë‹¤â€¦â€¦â€¦. ë‹¤ ì•ˆ ëœëŒ€ ë­ì•¼

| **í•­ëª©**                  | **í™”ì‚´í‘œ í•¨ìˆ˜** | **ì¼ë°˜ í•¨ìˆ˜** |
| ------------------------- | --------------- | ------------- |
| **this ë°”ì¸ë”©**           | X               | O             |
| **arguments ê°ì²´**        | X               | O             |
| **super, new.target**     | X               | O             |
| **ìƒì„±ì ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€** | X               | O             |
| **prototype ì¡´ì¬ ì—¬ë¶€**   | X               | O             |
| **ì¤‘ë³µ ë§¤ê°œë³€ìˆ˜ í—ˆìš©**    | X               | O             |

ë”°ë¼ì„œ í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” â€œìƒìœ„ ìŠ¤í¬í¬ì˜ ë¬¸ë§¥ì„ ê·¸ëŒ€ë¡œ ë”°ë¥´ëŠ”â€ ê°€ë³ê³  ì•ˆì „í•œ í•¨ìˆ˜ì´ë‹¤~~~!

## 3-2. this

í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ìì‹ ë§Œì˜ thisë¥¼ ê°–ì§€ ì•Šê³ 

ìì‹ ì´ ì •ì˜ëœ ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisë¥¼ ì°¸ì¡°í•˜ëŠ”ë°, ì´ë¥¼ `Lexical this` ë¼ê³  í•œë‹¤.

```jsx
const obj = {
  name: 'Lexical',
  sayLater() {
    setTimeout(() => {
      console.log(this.name) // 'Lexical' ì¶œë ¥
    }, 1000)
  },
}

obj.sayLater()
```

![image.png](./image%204.png)

ì¼ë°˜ í•¨ìˆ˜ëŠ” í˜¸ì¶œ ë°©ì‹ì— ë”°ë¼ thisê°€ ë™ì ìœ¼ë¡œ ë°”ì¸ë”©ëœë‹¤.

ë”°ë¼ì„œ í´ë˜ìŠ¤ ë‚´ë¶€ ë©”ì„œë“œì—ì„œ ì½œë°±ìœ¼ë¡œ ì“°ë©´ ë¬¸ì œê°€ ë°œìƒí•¨!

ê·¸ë˜ì„œ~~ í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì“°ê²Œ ëœ ê±°ê³ 

this ë¬¸ì œë¥¼ ê°„ê²°í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤!

> ğŸ¥² **ê·¸ëŸ¼ ì›ë˜ this ë°”ì¸ë”© ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì“°ë˜ `call`, `bind`, `apply`ë¥¼ í™”ì‚´í‘œ í•¨ìˆ˜ì— ì“°ë©´ ì–´ë–»ê²Œ ë˜ë‚¨?**
>
> > ì‘ë™ì€ í•˜ëŠ”ë° ë„˜ê¸°ëŠ” thisëŠ” ë¬´ì‹œëœë‹¤!
> >
> > ```jsx
> > const arrow = () => this.x
> > arrow.call({ x: 10 }) // ì—¬ì „íˆ ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisë¥¼ ì‚¬ìš©
> > ```

> ğŸ¥² **ì „ì—­ì—ì„œ í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì“°ë©´?**
>
> > í™”ì‚´í‘œ í•¨ìˆ˜ì˜ thisëŠ” ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ê²Œ ëœë‹¤.

## 3-3. í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì“°ë©´ ì•ˆ ë˜ëŠ” ê²½ìš°ëŠ”?

1. ê°ì²´ì˜ ë©”ì„œë“œë¡œ ì‚¬ìš©í•  ë•Œ

   ```jsx
   const person = {
     name: 'Hazel',
     sayHi: () => console.log(`Hi ${this.name}`),
   }

   person.sayHi() // Hi undefined
   ```

   ![image.png](./image%205.png)

   ğŸ‘‰ğŸ»Â thisê°€ ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚´

2. í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ ì •ì˜í•  ë•Œ

   ```jsx
   function Person(name) {
     this.name = name
   }
   Person.prototype.sayHi = () => console.log(`Hi ${this.name}`)

   const p = new Person('Hazel')
   p.sayHi() // Hi undefined
   ```

   ğŸ‘‰ğŸ»Â thisê°€ ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚´

3. thisê°€ í•„ìš”í•œ ë©”ì„œë“œëŠ” ì¼ë°˜ í•¨ìˆ˜ ë˜ëŠ” ES6 ë©”ì„œë“œë¡œ ì •ì˜í•  ê²ƒ

   ```jsx
   const person = {
     name: 'Hazel',
     sayHi() {
       console.log(`Hi ${this.name}`)
     },
   }
   person.sayHi()
   ```

## 3-4. super

superëŠ” ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œì— ì ‘ê·¼í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í‚¤ì›Œë“œì´ê¸° ë•Œë¬¸ì—

í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•˜ë©´ thisì²˜ëŸ¼ ìƒìœ„ ìŠ¤ì½”í”„ì—ì„œ superë¥¼ ì°¾ê²Œ ëœë‹¤!

ê·¼ë° í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œ superë¥¼ ì‚¬ìš©í•˜ë©´ ì—ëŸ¬ê°€ ì•ˆ ë‚˜ë„, ì˜ë„ì™€ ë‹¤ë¥´ê²Œ ì½”ë“œê°€ ë™ì‘í•  ìˆ˜ ìˆì–´ì„œ ES6 ë©”ì„œë“œ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ë‹¤!

```jsx
class Base {
  constructor(name) {
    this.name = name
  }
  sayHi() {
    return `Hi! ${this.name}`
  }
}

class Derived extends Base {
  // í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ìì²´ì˜ super ë°”ì¸ë”©ì´ ì—†ìŒ
  sayHi = () => `${super.sayHi()} how are you doing?`
}

const derived = new Derived('Hazel')
console.log(derived.sayHi()) // Hi! Hazel how are you doing?
```

![image.png](./image%206.png)

## 3-5. arguments

í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ìì²´ì ì¸ `arguments` ë°”ì¸ë”©ì„ ê°–ì§€ ì•ŠëŠ”ë‹¤.

ê·¸ë˜ì„œ ë‚´ë¶€ì—ì„œ `arguments`ë¥¼ ì°¸ì¡°í•˜ë©´ ìƒìœ„ ìŠ¤ì½”í”„ì˜ `arguments`ë¥¼ ì°¸ì¡°í•œë‹¤.

ë§Œì•½ ìƒìœ„ ìŠ¤ì½”í”„ì—ë„ `arguments`ê°€ ì—†ìœ¼ë©´ `ReferenceError`ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤.

`ì˜ˆì œ 1` ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜(IIFE) ë‚´ë¶€ì—ì„œ í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´?

```jsx
;(function () {
  const foo = () => console.log(arguments)
  foo(3, 4) // [Arguments] { '0': 1, '1': 2 }
})(1, 2)
```

![image.png](./image%207.png)

`ì˜ˆì œ 2` ì „ì—­ì—ì„œ í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´?

```jsx
const foo = () => console.log(arguments)
foo(1, 2) // ReferenceError: arguments is not defined
```

![image.png](./image%208.png)

ê·¸ë˜ì„œ í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œ ê°€ë³€ ì¸ìë¥¼ ë‹¤ë¤„ì•¼ í•œë‹¤ë©´!
`â€¦args` ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

â†’ Rest íŒŒë¼ë¯¸í„°!

```jsx
const foo = (...args) => {
  console.log(args) // [1, 2, 3]
}
foo(1, 2, 3)
```

![image.png](./image%209.png)

> ğŸ¥² **ê·¸ëŸ¼ ë“œëŠ” ê¶ê¸ˆì¦â€¦.**
>
> > 1.  í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œ ì •í•´ì§„ ì¸ìë¥¼ ì „ë‹¬í•  ë•ŒëŠ” â€¦args ì•ˆ ì¨ë„ ë˜ëŠ”ê°€?
> >
> >     ë‹¹ì—°! ê·¸ëƒ¥ ë§¤ê°œë³€ìˆ˜ë¡œ ì„ ì–¸í•´ì„œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
> >
> > 2.  ê¼­ argsê°€ ì´ë¦„ì´ì–´ì•¼ í•˜ë‚˜?
> >
> >     ì•„ë‹˜! Rest íŒŒë¼ë¯¸í„° ë¬¸ë²•ë§Œ ë¶™ì–´ìˆìœ¼ë©´ ëœë‹¤.
> >
> > 3.  ê·¸ëŸ¼ Rest íŒŒë¼ë¯¸í„°ë¡œ ë°›ì€ ê°’ì€ ì–´ë””ì— ì €ì¥ë˜ë‚˜?
> >
> >     ì§„ì§œ ë°°ì—´ ê°ì²´ë¡œ ì €ì¥ëœë‹¤.

# 4. Rest íŒŒë¼ë¯¸í„°

Rest íŒŒë¼ë¯¸í„°ëŠ” `... ì„¸ ê°œì˜ ì  + ë§¤ê°œë³€ìˆ˜` ì´ë¦„ ì´ë‹¤.
ì „ë‹¬ëœ ë‚˜ë¨¸ì§€ ì¸ìˆ˜ë“¤ì„ ë°°ì—´ë¡œ ëª¨ì•„ì¤€ë‹¤.

```jsx
function foo(...rest) {
  console.log(rest) // [1, 2, 3, 4, 5]
}
foo(1, 2, 3, 4, 5)
```

ì¼ë°˜ ë§¤ê°œë³€ìˆ˜ì™€ í•¨ê»˜ ì“°ë©´

ë¨¼ì € ì˜¨ ë§¤ê°œë³€ìˆ˜ ë¨¼ì € ì±„ì›Œì§€ê³ , ë‚˜ë¨¸ì§€ê°€ restë¡œ ì²˜ë¦¬ëœë‹¤.

restëŠ” í•­ìƒ ë§ˆì§€ë§‰ì— ìœ„ì¹˜í•´ì•¼ í•œë‹¤!

```jsx
function bar(a, b, ...rest) {
  console.log(a) // 1
  console.log(b) // 2
  console.log(rest) // [3, 4, 5]
}
bar(1, 2, 3, 4, 5)
```

ê·¸ë¦¬ê³  í•¨ìˆ˜ì˜ lengthì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.

lengthëŠ” rest íŒŒë¼ë¯¸í„° ì•ê¹Œì§€ì˜ ë§¤ê°œë³€ìˆ˜ ê¸¸ì´ë§Œ ì²˜ë¦¬í•œë‹¤.

```jsx
function foo(...args) {}
console.log(foo.length) // 0

function bar(a, ...args) {}
console.log(bar.length) // 1

function baz(a, b, ...args) {}
console.log(baz.length) // 2
```

# 5. ë§¤ê°œë³€ìˆ˜ ê¸°ë³¸ê°’ ì •ë¦¬

1. JS í•¨ìˆ˜ëŠ” ì¸ìˆ˜ ê°œìˆ˜ë¥¼ ì²´í¬í•˜ì§€ ì•ŠëŠ”ë‹¤.

   ```jsx
   function sum(x, y) {
     return x + y
   }

   sum(1) // NaN â†’ yëŠ” undefinedì´ê¸° ë•Œë¬¸
   ```

   ğŸ‘‰ğŸ»Â ì—ëŸ¬ëŠ” ì•ˆ ë‚˜ëŠ”ë° ê°’ì´ ì´ìƒí•´ì§

2. ES6 ì´ì „ì—ëŠ” ë°©ì–´ ì½”ë“œë¡œ ê¸°ë³¸ê°’ì„ ì„¤ì •í–ˆëŠ”ë°, ì´í›„ì—ëŠ” ë§¤ê°œë³€ìˆ˜ ê¸°ë³¸ê°’ ë¬¸ë²•ì´ ì ìš©ë˜ì—ˆë‹¤.

   ğŸ‘‡ğŸ»Â ES6 ì´ì „

   ```jsx
   function sum(x, y) {
     x = x || 0
     y = y || 0
     return x + y
   }
   ```

   ğŸ‘‡ğŸ»Â ES6 ì´í›„

   ```jsx
   function sum(x = 0, y = 0) {
     return x + y
   }

   sum(1, 2) // 3
   sum(1) // 1 (yëŠ” ê¸°ë³¸ê°’ 0)
   sum() // 0
   ```

3. undefinedëŠ” ê¸°ë³¸ê°’ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤.

   ```jsx
   function logName(name = 'Hazel') {
     console.log(name)
   }

   logName() // Hazel
   logName(undefined) // Hazel
   logName(null) // null â† ê¸°ë³¸ê°’ ì ìš© X
   ```

4. Rest íŒŒë¼ë¯¸í„°ì—ëŠ” ê¸°ë³¸ê°’ì´ ì„¤ì •ë˜ì§€ ì•ŠëŠ”ë‹¤.

   ```jsx
   function foo(...rest = []) {
     // SyntaxError: Rest parameter may not have a default initializer
   }
   ```
